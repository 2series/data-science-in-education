<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>24 Cleaning the Dataset | Data Science in Education Using R</title>
  <meta name="description" content="Bookdown for ‘Data Science in Education Using R’ by Emily A. Bovee, Ryan A. Estrellado, Jesse Mostipak, Joshua M. Rosenberg, and Isabella C. Velásquez to be published by Routledge in 2020" />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="24 Cleaning the Dataset | Data Science in Education Using R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Bookdown for ‘Data Science in Education Using R’ by Emily A. Bovee, Ryan A. Estrellado, Jesse Mostipak, Joshua M. Rosenberg, and Isabella C. Velásquez to be published by Routledge in 2020" />
  <meta name="github-repo" content="ivelasq/data-science-in-education" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="24 Cleaning the Dataset | Data Science in Education Using R" />
  
  <meta name="twitter:description" content="Bookdown for ‘Data Science in Education Using R’ by Emily A. Bovee, Ryan A. Estrellado, Jesse Mostipak, Joshua M. Rosenberg, and Isabella C. Velásquez to be published by Routledge in 2020" />
  

<meta name="author" content="Emily A. Bovee, Ryan A. Estrellado, Jesse Mostipak, Joshua M. Rosenberg, and Isabella C. Velásquez" />


<meta name="date" content="2019-12-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="reading-in-many-datasets.html"/>
<link rel="next" href="how-have-child-counts-changed-over-time.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="learning-data-science-in-education.html"><a href="learning-data-science-in-education.html"><i class="fa fa-check"></i><b>2</b> Learning Data Science in Education</a><ul>
<li class="chapter" data-level="2.1" data-path="learning-data-science-in-education.html"><a href="learning-data-science-in-education.html#making-the-path-a-little-clearer"><i class="fa fa-check"></i><b>2.1</b> Making the path a little clearer</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="how-to-use-this-book.html"><a href="how-to-use-this-book.html"><i class="fa fa-check"></i><b>3</b> How to Use this Book</a><ul>
<li class="chapter" data-level="3.1" data-path="how-to-use-this-book.html"><a href="how-to-use-this-book.html#getting-started"><i class="fa fa-check"></i><b>3.1</b> Getting Started</a><ul>
<li class="chapter" data-level="3.1.1" data-path="how-to-use-this-book.html"><a href="how-to-use-this-book.html#read-the-book-cover-to-cover-and-try-all-the-walkthroughs"><i class="fa fa-check"></i><b>3.1.1</b> Read the Book Cover to Cover and Try All the Walkthroughs</a></li>
<li class="chapter" data-level="3.1.2" data-path="how-to-use-this-book.html"><a href="how-to-use-this-book.html#pick-a-chapter-that-is-useful-for-your-level-of-experience-and-start-there"><i class="fa fa-check"></i><b>3.1.2</b> Pick a Chapter That is Useful for Your Level of Experience and Start There</a></li>
<li class="chapter" data-level="3.1.3" data-path="how-to-use-this-book.html"><a href="how-to-use-this-book.html#read-through-the-walkthroughs-and-run-the-code"><i class="fa fa-check"></i><b>3.1.3</b> Read Through the Walkthroughs and Run the Code</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="how-to-use-this-book.html"><a href="how-to-use-this-book.html#a-note-on-statistics"><i class="fa fa-check"></i><b>3.2</b> A Note on Statistics</a></li>
<li class="chapter" data-level="3.3" data-path="how-to-use-this-book.html"><a href="how-to-use-this-book.html#contributing-to-the-book"><i class="fa fa-check"></i><b>3.3</b> Contributing to the Book</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="what-is-a-data-scientist-in-education.html"><a href="what-is-a-data-scientist-in-education.html"><i class="fa fa-check"></i><b>4</b> What is a Data Scientist in Education?</a></li>
<li class="chapter" data-level="5" data-path="unique-challenges.html"><a href="unique-challenges.html"><i class="fa fa-check"></i><b>5</b> Unique Challenges</a></li>
<li class="chapter" data-level="6" data-path="challenges-common-to-doing-data-science-in-any-domain.html"><a href="challenges-common-to-doing-data-science-in-any-domain.html"><i class="fa fa-check"></i><b>6</b> Challenges Common to Doing Data Science in any Domain</a><ul>
<li class="chapter" data-level="6.1" data-path="challenges-common-to-doing-data-science-in-any-domain.html"><a href="challenges-common-to-doing-data-science-in-any-domain.html#a-new-field"><i class="fa fa-check"></i><b>6.1</b> A New Field</a></li>
<li class="chapter" data-level="6.2" data-path="challenges-common-to-doing-data-science-in-any-domain.html"><a href="challenges-common-to-doing-data-science-in-any-domain.html#addressing-ambiguity-a-reproducible-approach"><i class="fa fa-check"></i><b>6.2</b> Addressing Ambiguity: A Reproducible Approach</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="challenges-common-to-doing-data-science-in-education.html"><a href="challenges-common-to-doing-data-science-in-education.html"><i class="fa fa-check"></i><b>7</b> Challenges Common to Doing Data Science in Education</a><ul>
<li class="chapter" data-level="7.1" data-path="challenges-common-to-doing-data-science-in-education.html"><a href="challenges-common-to-doing-data-science-in-education.html#addressing-organizational-resistance-a-self-driven-analytic-approach"><i class="fa fa-check"></i><b>7.1</b> Addressing organizational resistance: A self-driven analytic approach</a></li>
<li class="chapter" data-level="7.2" data-path="challenges-common-to-doing-data-science-in-education.html"><a href="challenges-common-to-doing-data-science-in-education.html#lack-of-processes-and-guidelines"><i class="fa fa-check"></i><b>7.2</b> Lack of Processes and Guidelines</a></li>
<li class="chapter" data-level="7.3" data-path="challenges-common-to-doing-data-science-in-education.html"><a href="challenges-common-to-doing-data-science-in-education.html#limited-training-and-educational-opportunities"><i class="fa fa-check"></i><b>7.3</b> Limited Training and Educational Opportunities</a></li>
<li class="chapter" data-level="7.4" data-path="challenges-common-to-doing-data-science-in-education.html"><a href="challenges-common-to-doing-data-science-in-education.html#the-complex-and-messy-nature-of-education-data"><i class="fa fa-check"></i><b>7.4</b> The Complex and Messy Nature of Education Data</a></li>
<li class="chapter" data-level="7.5" data-path="challenges-common-to-doing-data-science-in-education.html"><a href="challenges-common-to-doing-data-science-in-education.html#ethical-and-legal-concerns"><i class="fa fa-check"></i><b>7.5</b> Ethical and Legal Concerns</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="analytic-challenges.html"><a href="analytic-challenges.html"><i class="fa fa-check"></i><b>8</b> Analytic Challenges</a></li>
<li class="chapter" data-level="9" data-path="not-just-challenges.html"><a href="not-just-challenges.html"><i class="fa fa-check"></i><b>9</b> Not Just Challenges</a></li>
<li class="chapter" data-level="10" data-path="foundational-skills.html"><a href="foundational-skills.html"><i class="fa fa-check"></i><b>10</b> Foundational Skills</a><ul>
<li class="chapter" data-level="10.1" data-path="foundational-skills.html"><a href="foundational-skills.html#track-one-getting-started"><i class="fa fa-check"></i><b>10.1</b> Track One: Getting Started</a></li>
<li class="chapter" data-level="10.2" data-path="foundational-skills.html"><a href="foundational-skills.html#downloading-r-and-r-studio"><i class="fa fa-check"></i><b>10.2</b> Downloading R and R Studio</a><ul>
<li class="chapter" data-level="10.2.1" data-path="foundational-skills.html"><a href="foundational-skills.html#to-download-r"><i class="fa fa-check"></i><b>10.2.1</b> To download R:</a></li>
<li class="chapter" data-level="10.2.2" data-path="foundational-skills.html"><a href="foundational-skills.html#to-download-r-studio"><i class="fa fa-check"></i><b>10.2.2</b> To download R Studio:</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="foundational-skills.html"><a href="foundational-skills.html#check-that-it-worked"><i class="fa fa-check"></i><b>10.3</b> Check that it worked</a></li>
<li class="chapter" data-level="10.4" data-path="foundational-skills.html"><a href="foundational-skills.html#help-im-completely-new-to-using-r-r-studio"><i class="fa fa-check"></i><b>10.4</b> Help, I’m completely new to using R / R Studio!</a></li>
<li class="chapter" data-level="10.5" data-path="foundational-skills.html"><a href="foundational-skills.html#creating-projects"><i class="fa fa-check"></i><b>10.5</b> Creating Projects</a></li>
<li class="chapter" data-level="10.6" data-path="foundational-skills.html"><a href="foundational-skills.html#packages"><i class="fa fa-check"></i><b>10.6</b> Packages</a><ul>
<li class="chapter" data-level="10.6.1" data-path="foundational-skills.html"><a href="foundational-skills.html#installing-and-loading-packages"><i class="fa fa-check"></i><b>10.6.1</b> Installing and Loading Packages</a></li>
<li class="chapter" data-level="10.6.2" data-path="foundational-skills.html"><a href="foundational-skills.html#running-functions-from-packages"><i class="fa fa-check"></i><b>10.6.2</b> Running Functions from Packages</a></li>
<li class="chapter" data-level="10.6.3" data-path="foundational-skills.html"><a href="foundational-skills.html#track-two-welcome-to-the-tidyverse"><i class="fa fa-check"></i><b>10.6.3</b> Track Two: Welcome to the Tidyverse</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="foundational-skills.html"><a href="foundational-skills.html#loading-data-from-various-sources"><i class="fa fa-check"></i><b>10.7</b> Loading Data from Various Sources</a><ul>
<li class="chapter" data-level="10.7.1" data-path="foundational-skills.html"><a href="foundational-skills.html#saving-a-file-from-the-web"><i class="fa fa-check"></i><b>10.7.1</b> Saving a File from the Web</a></li>
<li class="chapter" data-level="10.7.2" data-path="foundational-skills.html"><a href="foundational-skills.html#loading-a-csv-file"><i class="fa fa-check"></i><b>10.7.2</b> Loading a CSV File</a></li>
<li class="chapter" data-level="10.7.3" data-path="foundational-skills.html"><a href="foundational-skills.html#loading-excel-files"><i class="fa fa-check"></i><b>10.7.3</b> Loading Excel Files</a></li>
<li class="chapter" data-level="10.7.4" data-path="foundational-skills.html"><a href="foundational-skills.html#loading-sav-files"><i class="fa fa-check"></i><b>10.7.4</b> Loading SAV Files</a></li>
<li class="chapter" data-level="10.7.5" data-path="foundational-skills.html"><a href="foundational-skills.html#google-sheets"><i class="fa fa-check"></i><b>10.7.5</b> Google Sheets</a></li>
<li class="chapter" data-level="10.7.6" data-path="foundational-skills.html"><a href="foundational-skills.html#saving-files"><i class="fa fa-check"></i><b>10.7.6</b> Saving Files</a></li>
<li class="chapter" data-level="10.7.7" data-path="foundational-skills.html"><a href="foundational-skills.html#conclusion"><i class="fa fa-check"></i><b>10.7.7</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="10.8" data-path="foundational-skills.html"><a href="foundational-skills.html#processing-data"><i class="fa fa-check"></i><b>10.8</b> Processing Data</a></li>
<li class="chapter" data-level="10.9" data-path="foundational-skills.html"><a href="foundational-skills.html#communicating-sharing-results"><i class="fa fa-check"></i><b>10.9</b> Communicating / Sharing Results</a></li>
<li class="chapter" data-level="10.10" data-path="foundational-skills.html"><a href="foundational-skills.html#other-foundational-notes"><i class="fa fa-check"></i><b>10.10</b> Other Foundational Notes</a><ul>
<li class="chapter" data-level="10.10.1" data-path="foundational-skills.html"><a href="foundational-skills.html#configuring-r-studio"><i class="fa fa-check"></i><b>10.10.1</b> Configuring R Studio</a></li>
<li class="chapter" data-level="10.10.2" data-path="foundational-skills.html"><a href="foundational-skills.html#getting-data-in-and-out"><i class="fa fa-check"></i><b>10.10.2</b> Getting Data In and Out</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="walkthrough-01-title-here.html"><a href="walkthrough-01-title-here.html"><i class="fa fa-check"></i><b>11</b> Walkthrough 01: Title Here</a><ul>
<li class="chapter" data-level="11.1" data-path="walkthrough-01-title-here.html"><a href="walkthrough-01-title-here.html#introduction-1"><i class="fa fa-check"></i><b>11.1</b> Introduction</a></li>
<li class="chapter" data-level="11.2" data-path="walkthrough-01-title-here.html"><a href="walkthrough-01-title-here.html#data-sources"><i class="fa fa-check"></i><b>11.2</b> Data Sources</a><ul>
<li class="chapter" data-level="11.2.1" data-path="walkthrough-01-title-here.html"><a href="walkthrough-01-title-here.html#self-report-survey"><i class="fa fa-check"></i><b>11.2.1</b> 1. Self-Report Survey</a></li>
<li class="chapter" data-level="11.2.2" data-path="walkthrough-01-title-here.html"><a href="walkthrough-01-title-here.html#log-trace-data"><i class="fa fa-check"></i><b>11.2.2</b> 2. Log-Trace Data</a></li>
<li class="chapter" data-level="11.2.3" data-path="walkthrough-01-title-here.html"><a href="walkthrough-01-title-here.html#achievement-related-and-gradebook-data"><i class="fa fa-check"></i><b>11.2.3</b> 3. Achievement-related and gradebook data</a></li>
<li class="chapter" data-level="11.2.4" data-path="walkthrough-01-title-here.html"><a href="walkthrough-01-title-here.html#discussion-board-data"><i class="fa fa-check"></i><b>11.2.4</b> 4. Discussion board data</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="walkthrough-01-title-here.html"><a href="walkthrough-01-title-here.html#load-packages"><i class="fa fa-check"></i><b>11.3</b> Load Packages</a></li>
<li class="chapter" data-level="11.4" data-path="walkthrough-01-title-here.html"><a href="walkthrough-01-title-here.html#import-data"><i class="fa fa-check"></i><b>11.4</b> Import Data</a></li>
<li class="chapter" data-level="11.5" data-path="walkthrough-01-title-here.html"><a href="walkthrough-01-title-here.html#viewing-the-data"><i class="fa fa-check"></i><b>11.5</b> Viewing the Data</a></li>
<li class="chapter" data-level="11.6" data-path="walkthrough-01-title-here.html"><a href="walkthrough-01-title-here.html#process-data"><i class="fa fa-check"></i><b>11.6</b> Process Data</a><ul>
<li class="chapter" data-level="11.6.1" data-path="walkthrough-01-title-here.html"><a href="walkthrough-01-title-here.html#self-report-survey-1"><i class="fa fa-check"></i><b>11.6.1</b> 1. Self-Report Survey</a></li>
<li class="chapter" data-level="11.6.2" data-path="walkthrough-01-title-here.html"><a href="walkthrough-01-title-here.html#course-data"><i class="fa fa-check"></i><b>11.6.2</b> 2. Course Data</a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="walkthrough-01-title-here.html"><a href="walkthrough-01-title-here.html#joining-the-data"><i class="fa fa-check"></i><b>11.7</b> Joining the Data</a></li>
<li class="chapter" data-level="11.8" data-path="walkthrough-01-title-here.html"><a href="walkthrough-01-title-here.html#visualizing-the-data"><i class="fa fa-check"></i><b>11.8</b> Visualizing the Data</a><ul>
<li class="chapter" data-level="11.8.1" data-path="walkthrough-01-title-here.html"><a href="walkthrough-01-title-here.html#visualization-of-the-relationship-between-time-spent-on-course-and-percentage-of-points-earned"><i class="fa fa-check"></i><b>11.8.1</b> Visualization of the relationship between time spent on course and percentage of points earned</a></li>
</ul></li>
<li class="chapter" data-level="11.9" data-path="walkthrough-01-title-here.html"><a href="walkthrough-01-title-here.html#modeling-the-data"><i class="fa fa-check"></i><b>11.9</b> Modeling the Data</a></li>
<li class="chapter" data-level="11.10" data-path="walkthrough-01-title-here.html"><a href="walkthrough-01-title-here.html#but-what-about-different-courses"><i class="fa fa-check"></i><b>11.10</b> But what about different courses?</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="walkthrough-02-title-here.html"><a href="walkthrough-02-title-here.html"><i class="fa fa-check"></i><b>12</b> Walkthrough 02: Title Here</a><ul>
<li class="chapter" data-level="12.1" data-path="walkthrough-02-title-here.html"><a href="walkthrough-02-title-here.html#introduction-2"><i class="fa fa-check"></i><b>12.1</b> Introduction</a></li>
<li class="chapter" data-level="12.2" data-path="walkthrough-02-title-here.html"><a href="walkthrough-02-title-here.html#data-sources-1"><i class="fa fa-check"></i><b>12.2</b> Data Sources</a></li>
<li class="chapter" data-level="12.3" data-path="walkthrough-02-title-here.html"><a href="walkthrough-02-title-here.html#load-packages-1"><i class="fa fa-check"></i><b>12.3</b> Load Packages</a></li>
<li class="chapter" data-level="12.4" data-path="walkthrough-02-title-here.html"><a href="walkthrough-02-title-here.html#import-data-1"><i class="fa fa-check"></i><b>12.4</b> Import Data</a></li>
<li class="chapter" data-level="12.5" data-path="walkthrough-02-title-here.html"><a href="walkthrough-02-title-here.html#tidy-data"><i class="fa fa-check"></i><b>12.5</b> Tidy Data</a></li>
<li class="chapter" data-level="12.6" data-path="walkthrough-02-title-here.html"><a href="walkthrough-02-title-here.html#process-data-1"><i class="fa fa-check"></i><b>12.6</b> Process Data</a></li>
<li class="chapter" data-level="12.7" data-path="walkthrough-02-title-here.html"><a href="walkthrough-02-title-here.html#visualize-data"><i class="fa fa-check"></i><b>12.7</b> Visualize Data</a></li>
<li class="chapter" data-level="12.8" data-path="walkthrough-02-title-here.html"><a href="walkthrough-02-title-here.html#model-data"><i class="fa fa-check"></i><b>12.8</b> Model Data</a><ul>
<li class="chapter" data-level="12.8.1" data-path="walkthrough-02-title-here.html"><a href="walkthrough-02-title-here.html#deciding-an-analysis"><i class="fa fa-check"></i><b>12.8.1</b> Deciding an Analysis</a></li>
<li class="chapter" data-level="12.8.2" data-path="walkthrough-02-title-here.html"><a href="walkthrough-02-title-here.html#visualize-data-to-check-assumptions"><i class="fa fa-check"></i><b>12.8.2</b> Visualize Data to Check Assumptions</a></li>
<li class="chapter" data-level="12.8.3" data-path="walkthrough-02-title-here.html"><a href="walkthrough-02-title-here.html#correlation-analysis"><i class="fa fa-check"></i><b>12.8.3</b> Correlation Analysis</a></li>
<li class="chapter" data-level="12.8.4" data-path="walkthrough-02-title-here.html"><a href="walkthrough-02-title-here.html#build-linear-model"><i class="fa fa-check"></i><b>12.8.4</b> Build Linear Model</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="walkthrough-03-title-here.html"><a href="walkthrough-03-title-here.html"><i class="fa fa-check"></i><b>13</b> Walkthrough 03: Title Here</a><ul>
<li class="chapter" data-level="13.1" data-path="walkthrough-03-title-here.html"><a href="walkthrough-03-title-here.html#introduction-3"><i class="fa fa-check"></i><b>13.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="data-sources-2.html"><a href="data-sources-2.html"><i class="fa fa-check"></i><b>14</b> Data Sources</a><ul>
<li class="chapter" data-level="14.1" data-path="data-sources-2.html"><a href="data-sources-2.html#information-on-random-forests"><i class="fa fa-check"></i><b>14.1</b> Information on random forests</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="analysis.html"><a href="analysis.html"><i class="fa fa-check"></i><b>15</b> Analysis</a><ul>
<li class="chapter" data-level="15.1" data-path="analysis.html"><a href="analysis.html#use-of-caret"><i class="fa fa-check"></i><b>15.1</b> Use of caret</a></li>
<li class="chapter" data-level="15.2" data-path="analysis.html"><a href="analysis.html#predicted-values"><i class="fa fa-check"></i><b>15.2</b> Predicted values</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="examining-predictive-accuracy-on-the-test-data-set.html"><a href="examining-predictive-accuracy-on-the-test-data-set.html"><i class="fa fa-check"></i><b>16</b> Examining predictive accuracy on the test data set</a><ul>
<li class="chapter" data-level="16.1" data-path="examining-predictive-accuracy-on-the-test-data-set.html"><a href="examining-predictive-accuracy-on-the-test-data-set.html#variable-importance-measures"><i class="fa fa-check"></i><b>16.1</b> Variable importance measures</a></li>
<li class="chapter" data-level="16.2" data-path="examining-predictive-accuracy-on-the-test-data-set.html"><a href="examining-predictive-accuracy-on-the-test-data-set.html#comparing-a-random-forest-to-a-regression"><i class="fa fa-check"></i><b>16.2</b> Comparing a random forest to a regression</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="walkthrough-5-title-here.html"><a href="walkthrough-5-title-here.html"><i class="fa fa-check"></i><b>17</b> Walkthrough 5: Title Here</a><ul>
<li class="chapter" data-level="17.1" data-path="walkthrough-5-title-here.html"><a href="walkthrough-5-title-here.html#introduction-to-aggregate-data"><i class="fa fa-check"></i><b>17.1</b> Introduction to Aggregate Data</a><ul>
<li class="chapter" data-level="17.1.1" data-path="walkthrough-5-title-here.html"><a href="walkthrough-5-title-here.html#disaggregating-aggregated-data"><i class="fa fa-check"></i><b>17.1.1</b> Disaggregating Aggregated Data</a></li>
<li class="chapter" data-level="17.1.2" data-path="walkthrough-5-title-here.html"><a href="walkthrough-5-title-here.html#disaggregating-data-and-equity"><i class="fa fa-check"></i><b>17.1.2</b> Disaggregating Data and Equity</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="walkthrough-5-title-here.html"><a href="walkthrough-5-title-here.html#data"><i class="fa fa-check"></i><b>17.2</b> Data</a></li>
<li class="chapter" data-level="17.3" data-path="walkthrough-5-title-here.html"><a href="walkthrough-5-title-here.html#data-selection-and-research-questions"><i class="fa fa-check"></i><b>17.3</b> Data Selection and Research Questions</a><ul>
<li class="chapter" data-level="17.3.1" data-path="walkthrough-5-title-here.html"><a href="walkthrough-5-title-here.html#import"><i class="fa fa-check"></i><b>17.3.1</b> Import</a></li>
<li class="chapter" data-level="17.3.2" data-path="walkthrough-5-title-here.html"><a href="walkthrough-5-title-here.html#cleaning"><i class="fa fa-check"></i><b>17.3.2</b> Cleaning</a></li>
<li class="chapter" data-level="17.3.3" data-path="walkthrough-5-title-here.html"><a href="walkthrough-5-title-here.html#looking-at-missing-data"><i class="fa fa-check"></i><b>17.3.3</b> Looking at missing data</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="walkthrough-5-title-here.html"><a href="walkthrough-5-title-here.html#analysis-1"><i class="fa fa-check"></i><b>17.4</b> Analysis</a><ul>
<li class="chapter" data-level="17.4.1" data-path="walkthrough-5-title-here.html"><a href="walkthrough-5-title-here.html#discovering-distributions"><i class="fa fa-check"></i><b>17.4.1</b> Discovering Distributions</a></li>
<li class="chapter" data-level="17.4.2" data-path="walkthrough-5-title-here.html"><a href="walkthrough-5-title-here.html#making-comparisons"><i class="fa fa-check"></i><b>17.4.2</b> Making Comparisons</a></li>
</ul></li>
<li class="chapter" data-level="17.5" data-path="walkthrough-5-title-here.html"><a href="walkthrough-5-title-here.html#ranking"><i class="fa fa-check"></i><b>17.5</b> Ranking</a></li>
<li class="chapter" data-level="17.6" data-path="walkthrough-5-title-here.html"><a href="walkthrough-5-title-here.html#results"><i class="fa fa-check"></i><b>17.6</b> Results</a></li>
<li class="chapter" data-level="17.7" data-path="walkthrough-5-title-here.html"><a href="walkthrough-5-title-here.html#conclusion-1"><i class="fa fa-check"></i><b>17.7</b> Conclusion</a></li>
<li class="chapter" data-level="17.8" data-path="walkthrough-5-title-here.html"><a href="walkthrough-5-title-here.html#appendix"><i class="fa fa-check"></i><b>17.8</b> Appendix</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="walkthrough-6-title-here.html"><a href="walkthrough-6-title-here.html"><i class="fa fa-check"></i><b>18</b> Walkthrough 6: Title Here</a></li>
<li class="chapter" data-level="19" data-path="vocabulary.html"><a href="vocabulary.html"><i class="fa fa-check"></i><b>19</b> Vocabulary</a></li>
<li class="chapter" data-level="20" data-path="introduction-4.html"><a href="introduction-4.html"><i class="fa fa-check"></i><b>20</b> Introduction</a></li>
<li class="chapter" data-level="21" data-path="special-education-child-count-and-environment-data.html"><a href="special-education-child-count-and-environment-data.html"><i class="fa fa-check"></i><b>21</b> Special Education Child Count and Environment Data</a></li>
<li class="chapter" data-level="22" data-path="reading-in-one-dataset.html"><a href="reading-in-one-dataset.html"><i class="fa fa-check"></i><b>22</b> Reading In One Dataset</a></li>
<li class="chapter" data-level="23" data-path="reading-in-many-datasets.html"><a href="reading-in-many-datasets.html"><i class="fa fa-check"></i><b>23</b> Reading In Many Datasets</a></li>
<li class="chapter" data-level="24" data-path="cleaning-the-dataset.html"><a href="cleaning-the-dataset.html"><i class="fa fa-check"></i><b>24</b> Cleaning the Dataset</a><ul>
<li class="chapter" data-level="24.1" data-path="cleaning-the-dataset.html"><a href="cleaning-the-dataset.html#fix-the-variable-names-in-the-2016-data"><i class="fa fa-check"></i><b>24.1</b> Fix the variable names in the 2016 data</a></li>
<li class="chapter" data-level="24.2" data-path="cleaning-the-dataset.html"><a href="cleaning-the-dataset.html#pick-variables"><i class="fa fa-check"></i><b>24.2</b> Pick variables</a></li>
<li class="chapter" data-level="24.3" data-path="cleaning-the-dataset.html"><a href="cleaning-the-dataset.html#combine-six-datasets-into-one"><i class="fa fa-check"></i><b>24.3</b> Combine six datasets into one</a></li>
<li class="chapter" data-level="24.4" data-path="cleaning-the-dataset.html"><a href="cleaning-the-dataset.html#filter-for-the-desired-disabilities-and-age-groups"><i class="fa fa-check"></i><b>24.4</b> Filter for the desired disabilities and age groups</a></li>
<li class="chapter" data-level="24.5" data-path="cleaning-the-dataset.html"><a href="cleaning-the-dataset.html#rename-the-variables"><i class="fa fa-check"></i><b>24.5</b> Rename the variables</a></li>
<li class="chapter" data-level="24.6" data-path="cleaning-the-dataset.html"><a href="cleaning-the-dataset.html#clean-state-names"><i class="fa fa-check"></i><b>24.6</b> Clean state names</a></li>
<li class="chapter" data-level="24.7" data-path="cleaning-the-dataset.html"><a href="cleaning-the-dataset.html#tidy-the-dataset"><i class="fa fa-check"></i><b>24.7</b> Tidy the dataset</a></li>
<li class="chapter" data-level="24.8" data-path="cleaning-the-dataset.html"><a href="cleaning-the-dataset.html#convert-data-types"><i class="fa fa-check"></i><b>24.8</b> Convert data types</a></li>
<li class="chapter" data-level="24.9" data-path="cleaning-the-dataset.html"><a href="cleaning-the-dataset.html#explore-and-address-nas"><i class="fa fa-check"></i><b>24.9</b> Explore and address NAs</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="how-have-child-counts-changed-over-time.html"><a href="how-have-child-counts-changed-over-time.html"><i class="fa fa-check"></i><b>25</b> How Have Child Counts Changed Over Time?</a><ul>
<li class="chapter" data-level="25.1" data-path="how-have-child-counts-changed-over-time.html"><a href="how-have-child-counts-changed-over-time.html#visualize-the-dataset"><i class="fa fa-check"></i><b>25.1</b> Visualize the Dataset</a></li>
<li class="chapter" data-level="25.2" data-path="how-have-child-counts-changed-over-time.html"><a href="how-have-child-counts-changed-over-time.html#model-the-dataset"><i class="fa fa-check"></i><b>25.2</b> Model the Dataset</a><ul>
<li class="chapter" data-level="25.2.1" data-path="how-have-child-counts-changed-over-time.html"><a href="how-have-child-counts-changed-over-time.html#do-we-have-enough-information-for-our-model"><i class="fa fa-check"></i><b>25.2.1</b> Do we have enough information for our model?</a></li>
<li class="chapter" data-level="25.2.2" data-path="how-have-child-counts-changed-over-time.html"><a href="how-have-child-counts-changed-over-time.html#male-to-female-ratio-over-time"><i class="fa fa-check"></i><b>25.2.2</b> Male to Female Ratio Over Time</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="26" data-path="aggregate-data-as-context-for-student-data.html"><a href="aggregate-data-as-context-for-student-data.html"><i class="fa fa-check"></i><b>26</b> Aggregate Data as Context for Student Data</a></li>
<li class="chapter" data-level="27" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>27</b> References</a></li>
<li class="chapter" data-level="28" data-path="walkthrough-7-title-here.html"><a href="walkthrough-7-title-here.html"><i class="fa fa-check"></i><b>28</b> Walkthrough 7: Title Here</a></li>
<li class="chapter" data-level="29" data-path="introduction-5.html"><a href="introduction-5.html"><i class="fa fa-check"></i><b>29</b> Introduction</a></li>
<li class="chapter" data-level="30" data-path="about-our-text-dataset.html"><a href="about-our-text-dataset.html"><i class="fa fa-check"></i><b>30</b> About Our Text Dataset</a></li>
<li class="chapter" data-level="31" data-path="reading-in-the-data.html"><a href="reading-in-the-data.html"><i class="fa fa-check"></i><b>31</b> Reading In the Data</a></li>
<li class="chapter" data-level="32" data-path="reading-the-data.html"><a href="reading-the-data.html"><i class="fa fa-check"></i><b>32</b> Reading the data</a></li>
<li class="chapter" data-level="33" data-path="preparing-the-data-for-the-analysis.html"><a href="preparing-the-data-for-the-analysis.html"><i class="fa fa-check"></i><b>33</b> Preparing the data for the analysis</a></li>
<li class="chapter" data-level="34" data-path="counting-words.html"><a href="counting-words.html"><i class="fa fa-check"></i><b>34</b> Counting words</a></li>
<li class="chapter" data-level="35" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html"><i class="fa fa-check"></i><b>35</b> Sentiment analysis</a><ul>
<li class="chapter" data-level="35.1" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#tweets-associated-with-positive"><i class="fa fa-check"></i><b>35.1</b> Tweets associated with positive</a></li>
<li class="chapter" data-level="35.2" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#tweets-associated-with-negative"><i class="fa fa-check"></i><b>35.2</b> Tweets associated with negative</a></li>
<li class="chapter" data-level="35.3" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#random-review-of-tweets"><i class="fa fa-check"></i><b>35.3</b> Random review of tweets</a></li>
</ul></li>
<li class="chapter" data-level="36" data-path="next-steps.html"><a href="next-steps.html"><i class="fa fa-check"></i><b>36</b> Next steps</a></li>
<li class="chapter" data-level="37" data-path="references-1.html"><a href="references-1.html"><i class="fa fa-check"></i><b>37</b> References</a></li>
<li class="chapter" data-level="38" data-path="solutions.html"><a href="solutions.html"><i class="fa fa-check"></i><b>38</b> Solutions</a><ul>
<li class="chapter" data-level="38.1" data-path="solutions.html"><a href="solutions.html#introduction-6"><i class="fa fa-check"></i><b>38.1</b> Introduction</a></li>
<li class="chapter" data-level="38.2" data-path="solutions.html"><a href="solutions.html#the-gift-of-speed-and-scale"><i class="fa fa-check"></i><b>38.2</b> The Gift of Speed and Scale</a><ul>
<li class="chapter" data-level="38.2.1" data-path="solutions.html"><a href="solutions.html#working-with-data-faster"><i class="fa fa-check"></i><b>38.2.1</b> Working With Data Faster</a></li>
</ul></li>
<li class="chapter" data-level="38.3" data-path="solutions.html"><a href="solutions.html#working-with-more-data"><i class="fa fa-check"></i><b>38.3</b> Working With More Data</a></li>
<li class="chapter" data-level="38.4" data-path="solutions.html"><a href="solutions.html#solving-problems-together"><i class="fa fa-check"></i><b>38.4</b> Solving Problems Together</a></li>
<li class="chapter" data-level="38.5" data-path="solutions.html"><a href="solutions.html#data-science-in-education-and-empathy"><i class="fa fa-check"></i><b>38.5</b> Data Science in Education and Empathy</a></li>
<li class="chapter" data-level="38.6" data-path="solutions.html"><a href="solutions.html#build-your-network"><i class="fa fa-check"></i><b>38.6</b> Build Your Network</a></li>
<li class="chapter" data-level="38.7" data-path="solutions.html"><a href="solutions.html#for-k-12-teachers"><i class="fa fa-check"></i><b>38.7</b> For K-12 Teachers</a></li>
</ul></li>
<li class="chapter" data-level="39" data-path="teaching-data-science.html"><a href="teaching-data-science.html"><i class="fa fa-check"></i><b>39</b> Teaching Data Science</a><ul>
<li class="chapter" data-level="39.1" data-path="teaching-data-science.html"><a href="teaching-data-science.html#the-pedagogical-principles-this-book-is-based-upon"><i class="fa fa-check"></i><b>39.1</b> The pedagogical principles this book is based upon</a><ul>
<li class="chapter" data-level="39.1.1" data-path="teaching-data-science.html"><a href="teaching-data-science.html#problem-based-learning"><i class="fa fa-check"></i><b>39.1.1</b> Problem-based learning</a></li>
<li class="chapter" data-level="39.1.2" data-path="teaching-data-science.html"><a href="teaching-data-science.html#differentiation"><i class="fa fa-check"></i><b>39.1.2</b> Differentiation</a></li>
<li class="chapter" data-level="39.1.3" data-path="teaching-data-science.html"><a href="teaching-data-science.html#universal-design"><i class="fa fa-check"></i><b>39.1.3</b> Universal Design</a></li>
<li class="chapter" data-level="39.1.4" data-path="teaching-data-science.html"><a href="teaching-data-science.html#working-in-the-open"><i class="fa fa-check"></i><b>39.1.4</b> Working in the Open</a></li>
</ul></li>
<li class="chapter" data-level="39.2" data-path="teaching-data-science.html"><a href="teaching-data-science.html#strategies-for-teaching-data-science"><i class="fa fa-check"></i><b>39.2</b> Strategies for teaching data science</a><ul>
<li class="chapter" data-level="39.2.1" data-path="teaching-data-science.html"><a href="teaching-data-science.html#provide-a-home-base-for-learners-to-access-resources-and-to-learn-more"><i class="fa fa-check"></i><b>39.2.1</b> Provide a home base for learners to access resources (and to learn more)</a></li>
<li class="chapter" data-level="39.2.2" data-path="teaching-data-science.html"><a href="teaching-data-science.html#when-it-comes-to-writing-code-think-early-and-often"><i class="fa fa-check"></i><b>39.2.2</b> When it comes to writing code, think early and often</a></li>
<li class="chapter" data-level="39.2.3" data-path="teaching-data-science.html"><a href="teaching-data-science.html#dont-touch-that-keyboard"><i class="fa fa-check"></i><b>39.2.3</b> Don’t touch that keyboard!</a></li>
<li class="chapter" data-level="39.2.4" data-path="teaching-data-science.html"><a href="teaching-data-science.html#anticipate-issues-and-sacrifice-accuracy-for-clarity"><i class="fa fa-check"></i><b>39.2.4</b> Anticipate issues (and sacrifice accuracy for clarity)</a></li>
<li class="chapter" data-level="39.2.5" data-path="teaching-data-science.html"><a href="teaching-data-science.html#start-lessons-or-activities-with-visualizing-data"><i class="fa fa-check"></i><b>39.2.5</b> Start lessons or activities with visualizing data</a></li>
<li class="chapter" data-level="39.2.6" data-path="teaching-data-science.html"><a href="teaching-data-science.html#consider-representation-in-the-data-and-examples-you-use"><i class="fa fa-check"></i><b>39.2.6</b> Consider representation in the data and examples you use</a></li>
<li class="chapter" data-level="39.2.7" data-path="teaching-data-science.html"><a href="teaching-data-science.html#draw-on-other-resources"><i class="fa fa-check"></i><b>39.2.7</b> Draw on other resources</a></li>
</ul></li>
<li class="chapter" data-level="39.3" data-path="teaching-data-science.html"><a href="teaching-data-science.html#general-strategies-related-to-teaching-and-learning"><i class="fa fa-check"></i><b>39.3</b> General strategies related to teaching and learning</a><ul>
<li class="chapter" data-level="39.3.1" data-path="teaching-data-science.html"><a href="teaching-data-science.html#teaching-and-learning-are-complex"><i class="fa fa-check"></i><b>39.3.1</b> Teaching and learning are complex</a></li>
<li class="chapter" data-level="39.3.2" data-path="teaching-data-science.html"><a href="teaching-data-science.html#learners-learn-many-different-things-consciously-and-unconsciously"><i class="fa fa-check"></i><b>39.3.2</b> Learners learn many different things (consciously and unconsciously)</a></li>
<li class="chapter" data-level="39.3.3" data-path="teaching-data-science.html"><a href="teaching-data-science.html#metacognition-is-important-even-though-it-sounds-more-sophisticated-than-it-is"><i class="fa fa-check"></i><b>39.3.3</b> Metacognition is important (even though it sounds more sophisticated than it is!)</a></li>
<li class="chapter" data-level="39.3.4" data-path="teaching-data-science.html"><a href="teaching-data-science.html#learning-strategies-matter"><i class="fa fa-check"></i><b>39.3.4</b> Learning strategies matter</a></li>
<li class="chapter" data-level="39.3.5" data-path="teaching-data-science.html"><a href="teaching-data-science.html#educators-can-help-students-to-learn"><i class="fa fa-check"></i><b>39.3.5</b> Educators can help students to learn</a></li>
</ul></li>
<li class="chapter" data-level="39.4" data-path="teaching-data-science.html"><a href="teaching-data-science.html#summary"><i class="fa fa-check"></i><b>39.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="40" data-path="learning-more.html"><a href="learning-more.html"><i class="fa fa-check"></i><b>40</b> Learning More</a><ul>
<li class="chapter" data-level="40.1" data-path="learning-more.html"><a href="learning-more.html#introduction-7"><i class="fa fa-check"></i><b>40.1</b> Introduction</a></li>
<li class="chapter" data-level="40.2" data-path="learning-more.html"><a href="learning-more.html#adopt-a-growth-mindset"><i class="fa fa-check"></i><b>40.2</b> Adopt a growth mindset</a></li>
<li class="chapter" data-level="40.3" data-path="learning-more.html"><a href="learning-more.html#discover-new-information"><i class="fa fa-check"></i><b>40.3</b> Discover new information</a></li>
<li class="chapter" data-level="40.4" data-path="learning-more.html"><a href="learning-more.html#ask-for-help"><i class="fa fa-check"></i><b>40.4</b> Ask for help</a></li>
<li class="chapter" data-level="40.5" data-path="learning-more.html"><a href="learning-more.html#discussion-forums"><i class="fa fa-check"></i><b>40.5</b> Discussion forums</a></li>
<li class="chapter" data-level="40.6" data-path="learning-more.html"><a href="learning-more.html#github-repositories"><i class="fa fa-check"></i><b>40.6</b> GitHub repositories</a></li>
<li class="chapter" data-level="40.7" data-path="learning-more.html"><a href="learning-more.html#share-what-youve-learned"><i class="fa fa-check"></i><b>40.7</b> Share what you’ve learned</a></li>
<li class="chapter" data-level="40.8" data-path="learning-more.html"><a href="learning-more.html#where-to-share"><i class="fa fa-check"></i><b>40.8</b> Where to share</a></li>
<li class="chapter" data-level="40.9" data-path="learning-more.html"><a href="learning-more.html#welcome-others"><i class="fa fa-check"></i><b>40.9</b> Welcome others</a></li>
<li class="chapter" data-level="40.10" data-path="learning-more.html"><a href="learning-more.html#references-2"><i class="fa fa-check"></i><b>40.10</b> References</a></li>
<li class="chapter" data-level="40.11" data-path="learning-more.html"><a href="learning-more.html#data-science-courses"><i class="fa fa-check"></i><b>40.11</b> Data science courses</a></li>
<li class="chapter" data-level="40.12" data-path="learning-more.html"><a href="learning-more.html#education-resources"><i class="fa fa-check"></i><b>40.12</b> Education resources</a></li>
<li class="chapter" data-level="40.13" data-path="learning-more.html"><a href="learning-more.html#data-visualization"><i class="fa fa-check"></i><b>40.13</b> Data visualization</a></li>
<li class="chapter" data-level="40.14" data-path="learning-more.html"><a href="learning-more.html#programming-with-r"><i class="fa fa-check"></i><b>40.14</b> Programming with R</a></li>
<li class="chapter" data-level="40.15" data-path="learning-more.html"><a href="learning-more.html#package-vignettes"><i class="fa fa-check"></i><b>40.15</b> Package vignettes</a></li>
<li class="chapter" data-level="40.16" data-path="learning-more.html"><a href="learning-more.html#statistics"><i class="fa fa-check"></i><b>40.16</b> Statistics</a></li>
<li class="chapter" data-level="40.17" data-path="learning-more.html"><a href="learning-more.html#places-to-share-your-work"><i class="fa fa-check"></i><b>40.17</b> Places to share your work</a></li>
<li class="chapter" data-level="40.18" data-path="learning-more.html"><a href="learning-more.html#learning-communities"><i class="fa fa-check"></i><b>40.18</b> Learning communities</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science in Education Using R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="cleaning-the-dataset" class="section level1">
<h1><span class="header-section-number">24</span> Cleaning the Dataset</h1>
<p>Transforming your dataset before visualizing it and fitting models is critical. It’s easier to write code when variable names are concise and informative. Many functions in R, especially those in the <code>ggplot2</code> package, work best when datsets are in a “tidy” format. It’s easier to do an analysis when you have just the variables you need. Any unused variables can confuse your thought process.</p>
<p>Let’s preview the steps we’ll be taking:</p>
<ol style="list-style-type: decimal">
<li>Fix the variable names in the 2016 data</li>
<li>Combine the datasets</li>
<li>Pick variables</li>
<li>Filter for the desired categories</li>
<li>Rename the variables</li>
<li>Standardize the state names</li>
<li>Transform the column formats from wide to narrow using <code>gather</code></li>
<li>Change the data types of variables</li>
<li>Explore NAs</li>
</ol>
<p>In real life, data scientists don’t always know the cleaning steps until they dive into the work. Learning what cleaning steps are needed requires exploration, trial and error, and clarity on the analytic questions you want to answer.</p>
<p>After a lot of exploring, we settled on these steps for this analysis. When you do your own, you will find different things to transform. As you do more and more data analysis, your instincts for what to transform will improve.</p>
<div id="fix-the-variable-names-in-the-2016-data" class="section level2">
<h2><span class="header-section-number">24.1</span> Fix the variable names in the 2016 data</h2>
<p>When we print the 2016 dataset, we notice that the variable names are incorrect. Let’s verify that by looking at the 2016 dataset, which is the fifth element of <code>all_files</code>:</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb210-1" title="1"><span class="kw">names</span>(all_files[[<span class="dv">5</span>]])</a></code></pre></div>
<pre><code>##  [1] &quot;2016&quot;                    &quot;Alabama&quot;                
##  [3] &quot;Correctional Facilities&quot; &quot;All Disabilities&quot;       
##  [5] &quot;-&quot;                       &quot;-_1&quot;                    
##  [7] &quot;-_2&quot;                     &quot;-_3&quot;                    
##  [9] &quot;-_4&quot;                     &quot;-_5&quot;                    
## [11] &quot;-_6&quot;                     &quot;-_7&quot;                    
## [13] &quot;-_8&quot;                     &quot;-_9&quot;                    
## [15] &quot;-_10&quot;                    &quot;-_11&quot;                   
## [17] &quot;-_12&quot;                    &quot;-_13&quot;                   
## [19] &quot;-_14&quot;                    &quot;0&quot;                      
## [21] &quot;0_1&quot;                     &quot;0_2&quot;                    
## [23] &quot;0_3&quot;                     &quot;0_4&quot;                    
## [25] &quot;0_5&quot;                     &quot;0_6&quot;                    
## [27] &quot;0_7&quot;                     &quot;0_8&quot;                    
## [29] &quot;1&quot;                       &quot;2&quot;                      
## [31] &quot;4&quot;                       &quot;14&quot;                     
## [33] &quot;22&quot;                      &quot;30&quot;                     
## [35] &quot;4_1&quot;                     &quot;0_9&quot;                    
## [37] &quot;7&quot;                       &quot;70&quot;                     
## [39] &quot;77&quot;                      &quot;0_10&quot;                   
## [41] &quot;77_1&quot;                    &quot;1_1&quot;                    
## [43] &quot;76&quot;                      &quot;0_11&quot;                   
## [45] &quot;0_12&quot;                    &quot;68&quot;                     
## [47] &quot;0_13&quot;                    &quot;0_14&quot;                   
## [49] &quot;0_15&quot;                    &quot;9&quot;</code></pre>
<p>We want the variable names to be <code>Year</code> and <code>State Name</code>. But first, let’s go back and review how to get at the 2016 dataset from <code>all_files</code>. The order of the list elements was set all the way back when we fed <code>map</code> our list of filenames. If we look at <code>filenames</code> again, we see that the 2016 dataset was stored in the fifth element:</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb212-1" title="1">filenames</a></code></pre></div>
<pre><code>## [1] &quot;10a-walkthrough-6-data/bchildcountandedenvironments2012.csv&quot;   
## [2] &quot;10a-walkthrough-6-data/bchildcountandedenvironments2013.csv&quot;   
## [3] &quot;10a-walkthrough-6-data/bchildcountandedenvironments2014.csv&quot;   
## [4] &quot;10a-walkthrough-6-data/bchildcountandedenvironments2015.csv&quot;   
## [5] &quot;10a-walkthrough-6-data/bchildcountandedenvironments2016.csv&quot;   
## [6] &quot;10a-walkthrough-6-data/bchildcountandedenvironments2017-18.csv&quot;</code></pre>
<p>Once we know the 2016 dataset is the fifth element of our list, we can pluck it out by using double brackets:</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb214-1" title="1">all_files[[<span class="dv">5</span>]]</a></code></pre></div>
<pre><code>## # A tibble: 16,230 x 50
##    `2016` Alabama `Correctional F… `All Disabiliti… `-`   `-_1` `-_2` `-_3`
##     &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;            &lt;chr&gt;            &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
##  1   2016 Alabama Home             All Disabilities 43    30    35    0    
##  2   2016 Alabama Homebound/Hospi… All Disabilities -     -     -     -    
##  3   2016 Alabama Inside regular … All Disabilities -     -     -     -    
##  4   2016 Alabama Inside regular … All Disabilities -     -     -     -    
##  5   2016 Alabama Inside regular … All Disabilities -     -     -     -    
##  6   2016 Alabama Parentally Plac… All Disabilities -     -     -     -    
##  7   2016 Alabama Residential Fac… All Disabilities 5     3     4     0    
##  8   2016 Alabama Residential Fac… All Disabilities -     -     -     -    
##  9   2016 Alabama Separate Class   All Disabilities 58    58    98    0    
## 10   2016 Alabama Separate School… All Disabilities 11    20    19    0    
## # … with 16,220 more rows, and 42 more variables: `-_4` &lt;chr&gt;,
## #   `-_5` &lt;chr&gt;, `-_6` &lt;chr&gt;, `-_7` &lt;chr&gt;, `-_8` &lt;chr&gt;, `-_9` &lt;chr&gt;,
## #   `-_10` &lt;chr&gt;, `-_11` &lt;chr&gt;, `-_12` &lt;chr&gt;, `-_13` &lt;chr&gt;, `-_14` &lt;chr&gt;,
## #   `0` &lt;chr&gt;, `0_1` &lt;chr&gt;, `0_2` &lt;chr&gt;, `0_3` &lt;chr&gt;, `0_4` &lt;chr&gt;,
## #   `0_5` &lt;chr&gt;, `0_6` &lt;chr&gt;, `0_7` &lt;chr&gt;, `0_8` &lt;chr&gt;, `1` &lt;chr&gt;,
## #   `2` &lt;chr&gt;, `4` &lt;chr&gt;, `14` &lt;chr&gt;, `22` &lt;chr&gt;, `30` &lt;chr&gt;, `4_1` &lt;chr&gt;,
## #   `0_9` &lt;chr&gt;, `7` &lt;chr&gt;, `70` &lt;chr&gt;, `77` &lt;chr&gt;, `0_10` &lt;chr&gt;,
## #   `77_1` &lt;chr&gt;, `1_1` &lt;chr&gt;, `76` &lt;chr&gt;, `0_11` &lt;chr&gt;, `0_12` &lt;chr&gt;,
## #   `68` &lt;chr&gt;, `0_13` &lt;chr&gt;, `0_14` &lt;chr&gt;, `0_15` &lt;chr&gt;, `9` &lt;chr&gt;</code></pre>
<p>We used <code>skip = 4</code> when we read in those datasets. That worked for all datasets except the fifth one. In that one, skipping four lines left out the variable name row. To fix it, we’ll read the 2016 dataset again using <code>read_csv</code> and the fifth element of <code>filenames</code>. We’ll assign the newly read dataset to the fifth element of the <code>all_files</code> list:</p>
<pre><code>## Parsed with column specification:
## cols(
##   .default = col_character(),
##   Year = col_double()
## )</code></pre>
<pre><code>## See spec(...) for full column specifications.</code></pre>
<pre><code>## Warning: 4 parsing failures.
##   row  col expected                                          actual                                                          file
## 16228 Year a double -------------------                             &#39;10a-walkthrough-6-data/bchildcountandedenvironments2016.csv&#39;
## 16229 Year a double -  Data not available                           &#39;10a-walkthrough-6-data/bchildcountandedenvironments2016.csv&#39;
## 16230 Year a double x Data suppressed due to small cell size        &#39;10a-walkthrough-6-data/bchildcountandedenvironments2016.csv&#39;
## 16231 Year a double * Data flagged due to questionable data quality &#39;10a-walkthrough-6-data/bchildcountandedenvironments2016.csv&#39;</code></pre>
<p>Try printing <code>all_files</code> now. You can confirm we fixed the problem by checking that the variable names are correct.</p>
</div>
<div id="pick-variables" class="section level2">
<h2><span class="header-section-number">24.2</span> Pick variables</h2>
<p>Now that we know all our datasets have the correct variable names, we simplify our datasets by picking the variables we need. This is a good place to think carefully about which variables to pick. This usually requires a fair amount of trial and error, but here is what we found we needed:</p>
<ul>
<li>Our analytic questions are about gender, so let’s pick the gender variable</li>
<li>Later, we’ll need to filter our dataset by disability category and program location so we’ll want <code>SEA Education Environment</code> and <code>SEA Disability Category</code></li>
<li>We want to make comparisons by state and reporting year, so we’ll also pick <code>State Name</code> and <code>Year</code></li>
</ul>
<p>Combining <code>select</code> and <code>contains</code> is a convenient way to pick these variables without writing a lot of code. Knowing that we want variables that contain the acronym “SEA” and variables that contain “male” in their names, we can pass those characters to <code>contains</code>:</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb219-1" title="1">all_files[[<span class="dv">1</span>]] <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb219-2" title="2"><span class="st">    </span><span class="kw">select</span>(Year, <span class="kw">contains</span>(<span class="st">&quot;State&quot;</span>, <span class="dt">ignore.case =</span> <span class="ot">FALSE</span>), <span class="kw">contains</span>(<span class="st">&quot;SEA&quot;</span>, <span class="dt">ignore.case =</span> <span class="ot">FALSE</span>), <span class="kw">contains</span>(<span class="st">&quot;male&quot;</span>)) </a></code></pre></div>
<pre><code>## # A tibble: 16,230 x 8
##     Year `State Name` `SEA Education … `SEA Disability… `Female Age 3 t…
##    &lt;dbl&gt; &lt;chr&gt;        &lt;chr&gt;            &lt;chr&gt;            &lt;chr&gt;           
##  1  2012 ALABAMA      Correctional Fa… All Disabilities -               
##  2  2012 ALABAMA      Home             All Disabilities 63              
##  3  2012 ALABAMA      Homebound/Hospi… All Disabilities -               
##  4  2012 ALABAMA      Inside regular … All Disabilities -               
##  5  2012 ALABAMA      Inside regular … All Disabilities -               
##  6  2012 ALABAMA      Inside regular … All Disabilities -               
##  7  2012 ALABAMA      Other Location … All Disabilities 573             
##  8  2012 ALABAMA      Other Location … All Disabilities 81              
##  9  2012 ALABAMA      Parentally Plac… All Disabilities -               
## 10  2012 ALABAMA      Residential Fac… All Disabilities 6               
## # … with 16,220 more rows, and 3 more variables: `Male Age 3 to 5` &lt;chr&gt;,
## #   `Female Age 6 to 21` &lt;chr&gt;, `Male Age 6 to 21` &lt;chr&gt;</code></pre>
<p>That code chunk verifies that we got the variables we want, so now we will turn the code chunk into a function called <code>pick_vars</code>. We will then use <code>map</code> to feed our list of datasets, <code>all_files</code>, to the function. This will result in a newly transformed <code>all_files</code> list that contains six datasets, all with the desired variables.</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb221-1" title="1">pick_vars &lt;-<span class="st"> </span><span class="cf">function</span>(df) {</a>
<a class="sourceLine" id="cb221-2" title="2">    df <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb221-3" title="3"><span class="st">        </span><span class="kw">select_at</span>(<span class="kw">vars</span>(Year, <span class="kw">contains</span>(<span class="st">&quot;State&quot;</span>, <span class="dt">ignore.case =</span> <span class="ot">FALSE</span>), <span class="kw">contains</span>(<span class="st">&quot;SEA&quot;</span>, <span class="dt">ignore.case =</span> <span class="ot">FALSE</span>), <span class="kw">contains</span>(<span class="st">&quot;male&quot;</span>))) </a>
<a class="sourceLine" id="cb221-4" title="4">}</a>
<a class="sourceLine" id="cb221-5" title="5"></a>
<a class="sourceLine" id="cb221-6" title="6">all_files &lt;-<span class="st"> </span>all_files <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb221-7" title="7"><span class="st">    </span><span class="kw">map</span>(pick_vars)</a></code></pre></div>
</div>
<div id="combine-six-datasets-into-one" class="section level2">
<h2><span class="header-section-number">24.3</span> Combine six datasets into one</h2>
<p>Now we’ll turn our attention to combining the datasets in our list <code>all_files</code> into one. We’ll use <code>bind_rows</code>, which combines datasets by adding each one to the bottom of the one before it. The first step is to check and see if our datasets have the same number of variables and the same variable names. When we use <code>names</code> on our list of newly changed datasets, we see that each dataset’s variable names are the same:</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb222-1" title="1">all_files <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">map</span>(names)</a></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;Year&quot;                      &quot;State Name&quot;               
## [3] &quot;SEA Education Environment&quot; &quot;SEA Disability Category&quot;  
## [5] &quot;Female Age 3 to 5&quot;         &quot;Male Age 3 to 5&quot;          
## [7] &quot;Female Age 6 to 21&quot;        &quot;Male Age 6 to 21&quot;         
## 
## [[2]]
## [1] &quot;Year&quot;                      &quot;State Name&quot;               
## [3] &quot;SEA Education Environment&quot; &quot;SEA Disability Category&quot;  
## [5] &quot;Female Age 3 to 5&quot;         &quot;Male Age 3 to 5&quot;          
## [7] &quot;Female Age 6 to 21&quot;        &quot;Male Age 6 to 21&quot;         
## 
## [[3]]
## [1] &quot;Year&quot;                      &quot;State Name&quot;               
## [3] &quot;SEA Education Environment&quot; &quot;SEA Disability Category&quot;  
## [5] &quot;Female Age 3 to 5&quot;         &quot;Male Age 3 to 5&quot;          
## [7] &quot;Female Age 6 to 21&quot;        &quot;Male Age 6 to 21&quot;         
## 
## [[4]]
## [1] &quot;Year&quot;                      &quot;State Name&quot;               
## [3] &quot;SEA Education Environment&quot; &quot;SEA Disability Category&quot;  
## [5] &quot;Female Age 3 to 5&quot;         &quot;Male Age 3 to 5&quot;          
## [7] &quot;Female Age 6 to 21&quot;        &quot;Male Age 6 to 21&quot;         
## 
## [[5]]
## [1] &quot;Year&quot;                      &quot;State Name&quot;               
## [3] &quot;SEA Education Environment&quot; &quot;SEA Disability Category&quot;  
## [5] &quot;Female Age 3 to 5&quot;         &quot;Male Age 3 to 5&quot;          
## [7] &quot;Female Age 6 to 21&quot;        &quot;Male Age 6 to 21&quot;         
## 
## [[6]]
## [1] &quot;Year&quot;                      &quot;State Name&quot;               
## [3] &quot;SEA Education Environment&quot; &quot;SEA Disability Category&quot;  
## [5] &quot;Female Age 3 to 5&quot;         &quot;Male Age 3 to 5&quot;          
## [7] &quot;Female Age 6 to 21&quot;        &quot;Male Age 6 to 21&quot;</code></pre>
<p>That means that we can combine all six datasets into one using <code>bind_rows</code>. We’ll call this newly combined dataset <code>child_counts</code>:</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb224-1" title="1">child_counts &lt;-<span class="st">  </span>all_files <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb224-2" title="2"><span class="st">    </span><span class="kw">bind_rows</span>()</a></code></pre></div>
<p>Since we know that a) each of our six datasets had eight variables and b) our combined dataset also has eight variables, we can conclude that all our rows combined together correctly. But let’s use <code>str</code> to verify:</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb225-1" title="1"><span class="kw">str</span>(child_counts)</a></code></pre></div>
<pre><code>## Classes &#39;spec_tbl_df&#39;, &#39;tbl_df&#39;, &#39;tbl&#39; and &#39;data.frame&#39;: 97387 obs. of  8 variables:
##  $ Year                     : num  2012 2012 2012 2012 2012 ...
##  $ State Name               : chr  &quot;ALABAMA&quot; &quot;ALABAMA&quot; &quot;ALABAMA&quot; &quot;ALABAMA&quot; ...
##  $ SEA Education Environment: chr  &quot;Correctional Facilities&quot; &quot;Home&quot; &quot;Homebound/Hospital&quot; &quot;Inside regular class 40% through 79% of day&quot; ...
##  $ SEA Disability Category  : chr  &quot;All Disabilities&quot; &quot;All Disabilities&quot; &quot;All Disabilities&quot; &quot;All Disabilities&quot; ...
##  $ Female Age 3 to 5        : chr  &quot;-&quot; &quot;63&quot; &quot;-&quot; &quot;-&quot; ...
##  $ Male Age 3 to 5          : chr  &quot;-&quot; &quot;174&quot; &quot;-&quot; &quot;-&quot; ...
##  $ Female Age 6 to 21       : chr  &quot;4&quot; &quot;-&quot; &quot;104&quot; &quot;1590&quot; ...
##  $ Male Age 6 to 21         : chr  &quot;121&quot; &quot;-&quot; &quot;130&quot; &quot;3076&quot; ...</code></pre>
</div>
<div id="filter-for-the-desired-disabilities-and-age-groups" class="section level2">
<h2><span class="header-section-number">24.4</span> Filter for the desired disabilities and age groups</h2>
<p>We want to explore gender related variables, but our dataset has additional aggregate data for other subgroups. For example, we can use <code>count</code> to explore all the different disability groups in the dataset:</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb227-1" title="1">child_counts <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb227-2" title="2"><span class="st">    </span><span class="kw">count</span>(<span class="st">`</span><span class="dt">SEA Disability Category</span><span class="st">`</span>)</a></code></pre></div>
<pre><code>## # A tibble: 16 x 2
##    `SEA Disability Category`                                              n
##    &lt;chr&gt;                                                              &lt;int&gt;
##  1 All Disabilities                                                    6954
##  2 Autism                                                              6954
##  3 Deaf-blindness                                                      6954
##  4 Developmental delay                                                 4636
##  5 Developmental delay (valid only for children ages 3-9 when define…  2318
##  6 Emotional disturbance                                               6954
##  7 Hearing impairment                                                  6954
##  8 Intellectual disability                                             6954
##  9 Multiple disabilities                                               6954
## 10 Orthopedic impairment                                               6954
## 11 Other health impairment                                             6954
## 12 Specific learning disability                                        6954
## 13 Speech or language impairment                                       6954
## 14 Traumatic brain injury                                              6954
## 15 Visual impairment                                                   6954
## 16 &lt;NA&gt;                                                                  31</code></pre>
<p>Since we will be visualizing and modeling gender variables for all students in the dataset, we’ll filter out all subgoups except “All Disabilities” and the age totals:</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb229-1" title="1">child_counts &lt;-<span class="st"> </span>child_counts <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb229-2" title="2"><span class="st">    </span><span class="kw">filter</span>(<span class="st">`</span><span class="dt">SEA Disability Category</span><span class="st">`</span> <span class="op">==</span><span class="st"> &quot;All Disabilities&quot;</span>, </a>
<a class="sourceLine" id="cb229-3" title="3">           <span class="st">`</span><span class="dt">SEA Education Environment</span><span class="st">`</span> <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Total, Age 3-5&quot;</span>, <span class="st">&quot;Total, Age 6-21&quot;</span>)) </a></code></pre></div>
</div>
<div id="rename-the-variables" class="section level2">
<h2><span class="header-section-number">24.5</span> Rename the variables</h2>
<p>In the next section we’ll prepare the dataset for visualization and modeling by “tidying” it. When we write code to transform datasets, we’ll be typing the column names a lot, so it’s useful to change them to ones with more convenient names.</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb230-1" title="1">child_counts &lt;-<span class="st"> </span>child_counts <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb230-2" title="2"><span class="st">    </span><span class="kw">rename</span>(<span class="dt">year =</span> Year,</a>
<a class="sourceLine" id="cb230-3" title="3">           <span class="dt">state =</span> <span class="st">&quot;State Name&quot;</span>, </a>
<a class="sourceLine" id="cb230-4" title="4">           <span class="dt">age =</span> <span class="st">&quot;SEA Education Environment&quot;</span>,</a>
<a class="sourceLine" id="cb230-5" title="5">           <span class="dt">disability =</span> <span class="st">&quot;SEA Disability Category&quot;</span>, </a>
<a class="sourceLine" id="cb230-6" title="6">           <span class="dt">f_3_5 =</span> <span class="st">&quot;Female Age 3 to 5&quot;</span>, </a>
<a class="sourceLine" id="cb230-7" title="7">           <span class="dt">m_3_5 =</span> <span class="st">&quot;Male Age 3 to 5&quot;</span>, </a>
<a class="sourceLine" id="cb230-8" title="8">           <span class="dt">f_6_21 =</span> <span class="st">&quot;Female Age 6 to 21&quot;</span>, </a>
<a class="sourceLine" id="cb230-9" title="9">           <span class="dt">m_6_21 =</span> <span class="st">&quot;Male Age 6 to 21&quot;</span>)</a></code></pre></div>
</div>
<div id="clean-state-names" class="section level2">
<h2><span class="header-section-number">24.6</span> Clean state names</h2>
<p>You might have noticed that some state names in our dataset are in upper case letters and some are in lower case letters:</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb231-1" title="1">child_counts <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb231-2" title="2"><span class="st">    </span><span class="kw">count</span>(state) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb231-3" title="3"><span class="st">    </span><span class="kw">head</span>()</a></code></pre></div>
<pre><code>## # A tibble: 6 x 2
##   state              n
##   &lt;chr&gt;          &lt;int&gt;
## 1 Alabama            8
## 2 ALABAMA            4
## 3 Alaska             8
## 4 ALASKA             4
## 5 American Samoa     8
## 6 AMERICAN SAMOA     4</code></pre>
<p>If we leave it like this, R will treat state values like “CALIFORNIA” and “California” as two different states. We can use <code>mutate</code> and <code>tolower</code> to transform all the state names to lowercase letters.</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb233-1" title="1">child_counts &lt;-<span class="st"> </span>child_counts <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb233-2" title="2"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">state =</span> <span class="kw">tolower</span>(state)) </a></code></pre></div>
</div>
<div id="tidy-the-dataset" class="section level2">
<h2><span class="header-section-number">24.7</span> Tidy the dataset</h2>
<p>Visualizing and modeling our data will be much easier if our dataset is in a “tidy” format. In his paper <em>Tidy Data</em> (2014), Hadley Wickham defines tidy datasets where</p>
<blockquote>
<ol style="list-style-type: decimal">
<li>Each variable forms a column.</li>
<li>Each observation forms a row.</li>
<li>Each type of observational unit forms a table.</li>
</ol>
</blockquote>
<p><em>A note on the gender variable in this dataset</em></p>
<p><em>This dataset uses a binary approach to data collection about gender. Students are described as either male or female. The need for an inclusive approach to documenting gender identity is discussed in a paper by Andrew Park (2016) of The Williams Institute at UCLA.</em></p>
<p>The gender variables in our dataset are spread across four columns, with each one representing a combination of gender and age range. We can use <code>gather</code> to bring the gender variable into one column. In this transformation, we create two new columns: a <code>gender</code> column and a <code>total</code> column. The <code>total</code> column will contain the number of students in each row’s gender and age category.</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb234-1" title="1">child_counts &lt;-<span class="st"> </span>child_counts <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb234-2" title="2"><span class="st">    </span><span class="kw">gather</span>(gender, total, f_<span class="dv">3</span>_<span class="dv">5</span><span class="op">:</span>m_<span class="dv">6</span>_<span class="dv">21</span>)</a></code></pre></div>
<p>To make the values of the <code>gender</code> column more intuitive, we’ll use <code>case_when</code> to transform the values to either “f” or “m”:</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb235-1" title="1">child_counts &lt;-<span class="st"> </span>child_counts <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb235-2" title="2"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">gender =</span> <span class="kw">case_when</span>(</a>
<a class="sourceLine" id="cb235-3" title="3">        gender <span class="op">==</span><span class="st"> &quot;f_3_5&quot;</span> <span class="op">~</span><span class="st"> &quot;f&quot;</span>, </a>
<a class="sourceLine" id="cb235-4" title="4">        gender <span class="op">==</span><span class="st"> &quot;m_3_5&quot;</span> <span class="op">~</span><span class="st"> &quot;m&quot;</span>, </a>
<a class="sourceLine" id="cb235-5" title="5">        gender <span class="op">==</span><span class="st"> &quot;f_6_21&quot;</span> <span class="op">~</span><span class="st"> &quot;f&quot;</span>, </a>
<a class="sourceLine" id="cb235-6" title="6">        gender <span class="op">==</span><span class="st"> &quot;m_6_21&quot;</span> <span class="op">~</span><span class="st"> &quot;m&quot;</span>, </a>
<a class="sourceLine" id="cb235-7" title="7">        <span class="ot">TRUE</span> <span class="op">~</span><span class="st"> </span><span class="kw">as.character</span>(gender)</a>
<a class="sourceLine" id="cb235-8" title="8">    ))</a></code></pre></div>
</div>
<div id="convert-data-types" class="section level2">
<h2><span class="header-section-number">24.8</span> Convert data types</h2>
<p>The values in the <code>total</code> column represent the number of students from a specific year, state, gender, and age group. We know from the <code>chr</code> under their variable names that R is treating these values like characters instead of numbers. While R does a decent job of treating numbers like numbers when needed, it’s much safer to prepare the dataset by changing these character columns to number columns. We’ll use <code>dplyr::mutate_at</code> to change the count columns.</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb236-1" title="1">child_counts &lt;-<span class="st"> </span>child_counts <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb236-2" title="2"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">total =</span> <span class="kw">as.numeric</span>(total)) </a></code></pre></div>
<pre><code>## Warning: NAs introduced by coercion</code></pre>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb238-1" title="1">child_counts</a></code></pre></div>
<pre><code>## # A tibble: 2,928 x 6
##     year state          age             disability       gender total
##    &lt;dbl&gt; &lt;chr&gt;          &lt;chr&gt;           &lt;chr&gt;            &lt;chr&gt;  &lt;dbl&gt;
##  1  2012 alabama        Total, Age 3-5  All Disabilities f       2228
##  2  2012 alabama        Total, Age 6-21 All Disabilities f         NA
##  3  2012 alaska         Total, Age 3-5  All Disabilities f        676
##  4  2012 alaska         Total, Age 6-21 All Disabilities f         NA
##  5  2012 american samoa Total, Age 3-5  All Disabilities f         45
##  6  2012 american samoa Total, Age 6-21 All Disabilities f         NA
##  7  2012 arizona        Total, Age 3-5  All Disabilities f       4743
##  8  2012 arizona        Total, Age 6-21 All Disabilities f         NA
##  9  2012 arkansas       Total, Age 3-5  All Disabilities f       4605
## 10  2012 arkansas       Total, Age 6-21 All Disabilities f         NA
## # … with 2,918 more rows</code></pre>
<p>Converting these count columns from character classes to number classes resulted in two changes. First, the <code>chr</code> under these variable names has now changed to <code>dbl</code>, short for “double-precision”. This lets us know that R recognizes these values as numbers with decimal points. Second, the blank values changed to <code>NA</code>. When R sees a character class value like <code>"4"</code>, it knows to change it to numeric class <code>4</code>. But there is no obvious number represented by a character class like <code>""</code>, so it changes it to <code>NA</code>:</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb240-1" title="1"><span class="co"># Convert a character to a number </span></a>
<a class="sourceLine" id="cb240-2" title="2"><span class="kw">as.numeric</span>(<span class="st">&quot;4&quot;</span>)</a></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb242-1" title="1"><span class="co"># Convert a blank character to number</span></a>
<a class="sourceLine" id="cb242-2" title="2"><span class="kw">as.numeric</span>(<span class="st">&quot;&quot;</span>)</a></code></pre></div>
<pre><code>## [1] NA</code></pre>
<p>Similarly, the variable <code>year</code> needs to be changed from the character format to the date format. Doing so will make sure R treats this variable like a point in time when we plot our dataset. The package <code>lubridate</code> has a handy function called <code>ymd</code> that can help us. We just have to use the <code>truncated</code> argument to let R know we don’t have a month and date to convert.</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb244-1" title="1"><span class="kw">library</span>(lubridate)</a>
<a class="sourceLine" id="cb244-2" title="2"></a>
<a class="sourceLine" id="cb244-3" title="3">child_counts &lt;-<span class="st"> </span>child_counts <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb244-4" title="4"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="kw">ymd</span>(year, <span class="dt">truncated =</span> <span class="dv">2</span>))</a></code></pre></div>
</div>
<div id="explore-and-address-nas" class="section level2">
<h2><span class="header-section-number">24.9</span> Explore and address NAs</h2>
<p>You’ll notice that some rows in the <code>total</code> column contain an <code>NA</code>. When we used <code>gather</code> to create a <code>gender</code> column, R created unique rows for every year, state, age, disability, and gender combination. Since the original dataset had both gender and age range stored in a column like <code>Female Age 3 to 5</code>, R made rows where the <code>total</code> value is NA . For example, there is no student count for the <code>age</code> value “Total, Age 3-5” that also has the <code>gender</code> value for female students who were age 6-21. You can see that more clearly by sorting the dataset by year, state, and gender:</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb245-1" title="1">child_counts <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb245-2" title="2"><span class="st">    </span><span class="kw">arrange</span>(year, state, gender)</a></code></pre></div>
<pre><code>## # A tibble: 2,928 x 6
##    year       state   age             disability       gender total
##    &lt;date&gt;     &lt;chr&gt;   &lt;chr&gt;           &lt;chr&gt;            &lt;chr&gt;  &lt;dbl&gt;
##  1 2012-01-01 alabama Total, Age 3-5  All Disabilities f       2228
##  2 2012-01-01 alabama Total, Age 6-21 All Disabilities f         NA
##  3 2012-01-01 alabama Total, Age 3-5  All Disabilities f         NA
##  4 2012-01-01 alabama Total, Age 6-21 All Disabilities f      23649
##  5 2012-01-01 alabama Total, Age 3-5  All Disabilities m       5116
##  6 2012-01-01 alabama Total, Age 6-21 All Disabilities m         NA
##  7 2012-01-01 alabama Total, Age 3-5  All Disabilities m         NA
##  8 2012-01-01 alabama Total, Age 6-21 All Disabilities m      48712
##  9 2012-01-01 alaska  Total, Age 3-5  All Disabilities f        676
## 10 2012-01-01 alaska  Total, Age 6-21 All Disabilities f         NA
## # … with 2,918 more rows</code></pre>
<p>We can simplify our dataset by removing these rows, leaving us with one row for each category:</p>
<ul>
<li>females age 3-5</li>
<li>females age 6-21</li>
<li>males age 3-5</li>
<li>males age 6-21</li>
</ul>
<p>Each of these categories will be associated with a state and reporting year:</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb247-1" title="1">child_counts &lt;-<span class="st"> </span>child_counts <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb247-2" title="2"><span class="st">    </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(total)) </a></code></pre></div>
<p>We can verify we have the categories we want by sorting again:</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb248-1" title="1">child_counts <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb248-2" title="2"><span class="st">    </span><span class="kw">arrange</span>(year, state, gender)</a></code></pre></div>
<pre><code>## # A tibble: 1,390 x 6
##    year       state          age             disability       gender total
##    &lt;date&gt;     &lt;chr&gt;          &lt;chr&gt;           &lt;chr&gt;            &lt;chr&gt;  &lt;dbl&gt;
##  1 2012-01-01 alabama        Total, Age 3-5  All Disabilities f       2228
##  2 2012-01-01 alabama        Total, Age 6-21 All Disabilities f      23649
##  3 2012-01-01 alabama        Total, Age 3-5  All Disabilities m       5116
##  4 2012-01-01 alabama        Total, Age 6-21 All Disabilities m      48712
##  5 2012-01-01 alaska         Total, Age 3-5  All Disabilities f        676
##  6 2012-01-01 alaska         Total, Age 6-21 All Disabilities f       5307
##  7 2012-01-01 alaska         Total, Age 3-5  All Disabilities m       1440
##  8 2012-01-01 alaska         Total, Age 6-21 All Disabilities m      10536
##  9 2012-01-01 american samoa Total, Age 3-5  All Disabilities f         45
## 10 2012-01-01 american samoa Total, Age 6-21 All Disabilities f        208
## # … with 1,380 more rows</code></pre>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="reading-in-many-datasets.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="how-have-child-counts-changed-over-time.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
